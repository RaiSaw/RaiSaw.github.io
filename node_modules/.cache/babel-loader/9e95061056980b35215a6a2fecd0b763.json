{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ryes/Downloads/Files etc/React WS/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/ryes/Downloads/Files etc/React WS/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/ryes/Downloads/Files etc/React WS/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";var wait=function wait(ms){return new Promise(function(resolve){return setTimeout(resolve,ms);});};/**\n * This is a custom hook that can be used to submit a form and simulate an API call\n * It uses Math.random() to simulate a random success or failure, with 50% chance of each\n */var useSubmit=function useSubmit(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),response=_useState4[0],setResponse=_useState4[1];var submit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(url,data){var random;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:random=Math.random();setLoading(true);_context.prev=2;_context.next=5;return wait(2000);case 5:if(!(random<0.01)){_context.next=7;break;}throw new Error(\"Please fill out the required spaces, thank you!\");case 7:setResponse({type:'success',message:\"Thanks for your submission \".concat(data.firstName,\", we will get back to you shortly!\")});_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);setResponse({type:'error',message:'Please fill out the required spaces, thank you!'});case 13:_context.prev=13;setLoading(false);return _context.finish(13);case 16:case\"end\":return _context.stop();}}},_callee,null,[[2,10,13,16]]);}));return function submit(_x,_x2){return _ref.apply(this,arguments);};}();return{isLoading:isLoading,response:response,submit:submit};};export default useSubmit;","map":{"version":3,"names":["useState","wait","ms","Promise","resolve","setTimeout","useSubmit","isLoading","setLoading","response","setResponse","submit","url","data","random","Math","Error","type","message","firstName"],"sources":["/Users/ryes/Downloads/Files etc/React WS/src/hooks/useSubmit.js"],"sourcesContent":["import {useState} from \"react\";\n\nconst wait = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\n\n/**\n * This is a custom hook that can be used to submit a form and simulate an API call\n * It uses Math.random() to simulate a random success or failure, with 50% chance of each\n */\nconst useSubmit = () => {\n  const [isLoading, setLoading] = useState(false);\n  const [response, setResponse] = useState(null);\n\n  const submit = async (url, data) => {\n    const random = Math.random();\n    setLoading(true);\n    try {\n      await wait(2000);\n      if (random < 0.01) {\n        throw new Error(\"Please fill out the required spaces, thank you!\");\n      }\n      setResponse({\n        type: 'success',\n        message: `Thanks for your submission ${data.firstName}, we will get back to you shortly!`,\n      })\n    } catch (error) {\n      setResponse({\n        type: 'error',\n        message: 'Please fill out the required spaces, thank you!',\n      })\n    } finally {\n      setLoading(false);\n    }\n  }\n  return { isLoading, response, submit };\n}\n\nexport default useSubmit;\n"],"mappings":"2dAAA,OAAQA,QAAQ,KAAO,OAAO,CAE9B,GAAMC,KAAI,CAAG,QAAPA,KAAI,CAAIC,EAAE,QAAK,IAAIC,QAAO,CAAC,SAACC,OAAO,QAAKC,WAAU,CAACD,OAAO,CAAEF,EAAE,CAAC,GAAC,GAEtE;AACA;AACA;AACA,GACA,GAAMI,UAAS,CAAG,QAAZA,UAAS,EAAS,CACtB,cAAgCN,QAAQ,CAAC,KAAK,CAAC,wCAAxCO,SAAS,eAAEC,UAAU,eAC5B,eAAgCR,QAAQ,CAAC,IAAI,CAAC,yCAAvCS,QAAQ,eAAEC,WAAW,eAE5B,GAAMC,OAAM,4FAAG,iBAAOC,GAAG,CAAEC,IAAI,+HACvBC,MAAM,CAAGC,IAAI,CAACD,MAAM,EAAE,CAC5BN,UAAU,CAAC,IAAI,CAAC,CAAC,sCAETP,KAAI,CAAC,IAAI,CAAC,aACZa,MAAM,CAAG,IAAI,+BACT,IAAIE,MAAK,CAAC,iDAAiD,CAAC,QAEpEN,WAAW,CAAC,CACVO,IAAI,CAAE,SAAS,CACfC,OAAO,sCAAgCL,IAAI,CAACM,SAAS,sCACvD,CAAC,CAAC,kFAEFT,WAAW,CAAC,CACVO,IAAI,CAAE,OAAO,CACbC,OAAO,CAAE,iDACX,CAAC,CAAC,0BAEFV,UAAU,CAAC,KAAK,CAAC,CAAC,sGAErB,kBApBKG,OAAM,gDAoBX,CACD,MAAO,CAAEJ,SAAS,CAATA,SAAS,CAAEE,QAAQ,CAARA,QAAQ,CAAEE,MAAM,CAANA,MAAO,CAAC,CACxC,CAAC,CAED,cAAeL,UAAS"},"metadata":{},"sourceType":"module"}